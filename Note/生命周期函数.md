

# 什么是Vue的生命周期

每个Vue组件实例在创建时都需要经历一系列的初始化步骤，比如数据侦听，编译模板，挂载实例到DOM，以及在数据改变时更新DOM。在此过程中，它也会运行被称为生命周期钩子的函数，让开发者有机会在特定阶段运行自己的代码。最常用的是created、mounted、updated和unmounted。



![](/Users/mc/Documents/code/Vue小兔仙学习笔记/Note/image/Vue生命周期规范log.png)

代做，对这里的每一步进行解释

















# 生命周期函数有哪些

| 生命周期钩子函数 | 实例处于阶段 | 描述                                                         | 能否获取到el (this.$el) | 能否获取到data ([this.xxx](http://this.xxx)) | 能否使用methods中的方法 ([this.xxx](http://this.xxx)()) |
| ---------------- | ------------ | ------------------------------------------------------------ | ----------------------- | -------------------------------------------- | ------------------------------------------------------- |
| beforeCreate     | 创建前       | 实例已初始化，但数据观测，watch/event 事件回调还未配置       | 获取不到                | 不能                                         | 不能                                                    |
| created          | 创建后       | 已完成如下配置，数据观测 (data observer)，property 和方法的运算，watch/event 事件回调 | 获取不到                | 能                                           | 能                                                      |
| beforeMount      | 挂载前       | dom已初始化，但并未挂载和渲染                                | 能                      | 能                                           | 能                                                      |
| mounted          | 挂载后       | dom已完成挂载和渲染                                          | 能                      | 能                                           | 能                                                      |
| beforeUpdate     | 更新前       | 数据已改变，但dom为更新                                      | 能                      | 能                                           | 能                                                      |
| updated          | 更新后       | dom已更新                                                    | 能                      | 能                                           | 能                                                      |
| beforeDestroy    | 销毁前       | 实例销毁前，实例仍然可用                                     | 能                      | 能                                           | 能                                                      |
| destroyed        | 销毁后       | 实例已销毁，所有指令被解绑，事件监听器被移除，子实例都被销毁 | 能                      | 能                                           | 能                                                      |

组件【实例化阶段】的生命周期函数 **`beforeCreate`**

```
1. `beforeCreate`选项式声明周期函数
2. 在组件实例初始化之前调用（`props`解析已解析、`data`和`computed`等选项还未处理）
3. 不能访问组件的实例`this`及其组件中的数据源和函数等
4. 不能访问组件中的视图`DOM`元素
5. 组合式 API 中的`setup()`钩子会在所有选项式 API 钩子之前调用
```

**`created`**

```
1. `created`选项式生命周期函数
2. 在组件实例化成功后调用
3. 可访问组件的实例`this`及其组件中的数据源和函数等
4. 不能访问组件中的视图`DOM`元素
```

组件【视图渲染阶段】的生命周期函数

 **`beforeMount`/`onBeforeMount`** 1. `beforeMount`：选项式生命周期函数、`onBeforeMount`：组合式生命周期钩子 2. 组件视图在浏览器渲染之前调用 3. 可访问组件实例东西（数据源、函数、计算属性等） 4. 不能访问组件视图中的`DOM`元素 **`mounted`/`onMounted`**

```
1. `mounted`：选项式生命周期函数、`onMounted`：组合式生命周期钩子
2. 组件视图在浏览器渲染之后调用
3. 可访问组件实例东西（数据源、函数、计算属性等）
4. 可以访问组件视图中的`DOM`元素
```

组件【运行阶段】的生命周期函数

 **`beforeUpdate`/`onBeforeUpdate`**

```
1. `beforeUpdate`：选项式生命周期函数、`onBeforeUpdate`：组合式生命周期钩子
2. 数据源发生变化时，组件视图重新渲染之前调用
3. 可访问组件实例东西（数据源、函数、计算属性等）
4. 可以访问该组件中在更新之前的`DOM`元素，但是不能访问该组件中在更新之后的`DOM`元素
```

**`updated`/`onUpdated`**

```
1. `updated`：选项式生命周期函数、`onUpdated`：组合式生命周期钩子
2. 数据源发生变化时，组件视图重新渲染之后调用
3. 可访问组件实例东西（数据源、函数、计算属性等）
4. 不可以访问该组件中在更新之前的`DOM`元素，但是可以访问该组件中在更新之后的`DOM`素
```

组件【卸载阶段】的生命周期函数

 **`beforeUnmount`/`onBeforeUnmount`**

```
1. `beforeUnmount`：选项式生命周期函数、`onBeforeUnmount`：组合式生命周期钩子
2. 组件实例被卸载之前调用
3. 可访问组件实例东西（数据源、函数、计算属性等）
4. 可以访问组件视图中的`DOM`元素
```

**`unmounted`/`onUnmounted`**

```
1. `unmounted`：选项式生命周期函数、`onUnmounted`：组合式生命周期钩子
2. 组件实例被卸载之后调用
3. 可访问组件实例东西（数据源、函数、计算属性等）
4. 不可以访问组件视图中的`DOM`元素
5. 一般在这个生命周期函数里，我们可以手动清理一些副作用，例如计时器、`DOM`事件监听器或者与服务器的连接
```









![](/Users/mc/Documents/code/Vue小兔仙学习笔记/Note/image/05_生命周期钩子.png)





## 生命周期函数的基本使用



